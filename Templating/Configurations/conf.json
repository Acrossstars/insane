{
  "domain": "Bases",
  "entities": [
    {
      "className": "CaliberSet",
      "properties": [
        {
          "name": "Id",
          "type": "string"
        },
        {
          "name": "LevelInfo",
          "type": "CaliberLevelInfo"
        },
        {
          "name": "Calibers",
          "type": "List<Caliber>"
        }
      ]
    },
    {
      "className": "Caliber",
      "properties": [
        {
          "name": "Id",
          "type": "string"
        },
        {
          "name": "Name",
          "type": "string"
        },
        {
          "name": "Description",
          "type": "string"
        },
        {
          "name": "CaliberProperties",
          "type": "List<CaliberProperty>"
        },
        {
          "name": "AllowedTargerts",
          "type": "List<CaliberAttackTarget>"
        }
      ]
    },
    {
      "className": "CaliberProperty",
      "properties": [
        {
          "name": "Id",
          "type": "string"
        },
        {
          "name": "Name",
          "type": "string"
        },
        {
          "name": "Description",
          "type": "string"
        },
        {
          "name": "Value",
          "type": "int"
        }
      ]
    },
    {
      "className": "CaliberLevelInfo",
      "properties": [
        {
          "name": "WeaponSlotsCount",
          "type": "int"
        }
      ]
    },
    {
      "className": "CaliberAttackTarget",
      "properties": [
        {
          "name": "Id",
          "type": "string"
        },
        {
          "name": "Name",
          "type": "int"
        }
      ]
    }
  ],
  "repositories": [
    {
      "name": "BookRepository",
      "operations": [
        {
          "name": "AddBook",
          "parameters": [ "Book" ]
        },
        {
          "name": "RemoveBook",
          "parameters": [ "Book" ]
        },
        {
          "name": "GetAllBooks",
          "returnType": "List<Book>"
        },
        {
          "name": "FindBookByTitle",
          "parameters": [ "string" ],
          "returnType": "Book"
        }
      ]
    }
  ],
  "events": [
    {
      "name": "BookLended",
      "attributes": [
        {
          "name": "BookId",
          "type": "Guid"
        },
        {
          "name": "CopyId",
          "type": "Guid"
        }
      ]
    },
    {
      "name": "BookReturned",
      "attributes": [
        {
          "name": "BookId",
          "type": "Guid"
        },
        {
          "name": "CopyId",
          "type": "Guid"
        }
      ]
    }
  ],
  "useCases": [
    {
      "name": "LendBook",
      "steps": [
        "Find the book by its title",
        "Get an available copy of the book",
        "Mark the copy as not available",
        "Trigger the BookLended event"
      ]
    },
    {
      "name": "ReturnBook",
      "steps": [
        "Find the book by its title",
        "Find the copy by its id",
        "Mark the copy as available",
        "Trigger the BookReturned event"
      ]
    }
  ]
} 