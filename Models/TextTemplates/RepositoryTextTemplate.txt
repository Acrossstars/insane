{{- for item in Usings }}using {{ item }};{{- end }}

namespace {{ Namespace }};

public class {{ AggregateEntity }}AggregateRepository : MongoDbBaseAggregateRepository<{{ AggregateEntity }}>, {{ InterfaceName }}
{
    #region Fields

    {{ for prop in PrivateFields }}
    {{ prop.destination }} = {{ prop.source }};{{ end }}

    #endregion

    #region Ctors

    public {{ AggregateEntity }}AggregateRepository({{ DbContext }} dbContext) : base(dbContext)
    {
        {{ for prop in InjectedPrivates }}
        {{ prop.destination }} = {{ prop.source }};{{ end }}
    }

    #endregion

    #region Public Methods

    {{ for method in Methods }}
    public {{ method.type }} {{ method.name }}({{ for par in method.parameters }}{{ par.type }} {{ par.name }}{{ if ! for.last }}, {{ end }}{{- end }})
    {
        {{ method.logic }}
    }
    {{ end }}

    #endregion

    #region Private Methods



    #endregion
}